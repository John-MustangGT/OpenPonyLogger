[platformio]
default_envs = esp32s3dev

[env:esp32s3dev]
platform = espressif32
board = adafruit_feather_esp32s3
framework = arduino

; Monitor settings for serial output
monitor_speed = 115200
monitor_port = /dev/cu.usbmodem*
monitor_rts = 0
monitor_dtr = 0

; Upload settings
upload_port = /dev/cu.usbmodem*
upload_protocol = esptool
upload_speed = 460800
; Use the built-in USB JTAG for upload (no external programmer needed)
upload_flags = 
    --before default_reset 
    --after hard_reset

; Library dependencies
lib_deps =
    Adafruit Unified Sensor

; Build flags
build_flags =
    -DPLATFORMIO
    -DARDUINO_ESP32_S3
    -std=c++17
    -Wall

[env:test]
platform = native
test_framework = unity
build_flags =
    -DTEST_MODE
    -Wall
